{"version":3,"sources":["../../src/controllers/messagesController.js"],"names":["readAll","req","res","messages","status","json","error","message","data","readById","id","params","filter","create","fullname","body","phone","email","push","update","deleteMessage","a","indexOf","splice"],"mappings":"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","sourcesContent":["import messages from '../models/messages';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n\r\nexport const readAll = (req, res) => {\r\n    if (!messages) {\r\n        return res.status(404).json({\r\n            status: 404,\r\n            error: 'No message found',\r\n        });\r\n    }\r\n    return res.status(200).json({\r\n        status: 200,\r\n        message: 'messages successfully retrieved',\r\n        data: {\r\n            messages,\r\n        },\r\n    });\r\n};\r\nexport const readById = (req, res) => {\r\n    const id = req.params.id;\r\n    const message = messages.filter((message) => {\r\n        return message.id === id;\r\n    });\r\n    if (message[0]) {\r\n        return res.status(200).json({\r\n            status: 200,\r\n            message: 'message successfully retrieved',\r\n            data: message,\r\n        });\r\n    }\r\n    return res.status(404).json({\r\n        status: 404,\r\n        error: 'message not found',\r\n    });\r\n\r\n};\r\nexport const create = (req, res) => {\r\n    const message = {\r\n        id: uuidv4(),\r\n        fullname:req.body.fullname,\r\n        phone:req.body.phone,\r\n        email: req.body.email,\r\n        message: req.body.message\r\n    };\r\n    messages.push(message);\r\n    return res.status(201).json({\r\n        status: 201,\r\n        message: 'message successfully created',\r\n        data: message,\r\n    });\r\n\r\n};\r\n\r\nexport const update=(req,res)=>{\r\n    const id = req.params.id;\r\n    const message = messages.filter((message) => {\r\n        return message.id === id;\r\n    });\r\n    if(message[0]){\r\n        message[0].email=req.body.email;\r\n        message[0].phone=req.body.phone;\r\n        message[0].message=req.body.message;\r\n        message[0].fullname= req.body.fullname;\r\n        return res.status(200).json({\r\n            status: 200,\r\n            message: 'message successfully updated',\r\n            data: message,\r\n        });\r\n    }\r\n    return res.status(404).json({\r\n        status: 404,\r\n        error: 'message not found',\r\n    });\r\n    \r\n}\r\n\r\nexport const deleteMessage=(req,res)=>{\r\n    const id=req.params.id;\r\n    const message = messages.filter((message) => {\r\n        return message.id === id;\r\n    });\r\n    if(message[0]){\r\n        var a = messages.indexOf(message[0]);\r\n        messages.splice(a, 1);\r\n        return res.status(200).json({\r\n            status: 200,\r\n            message: 'message successfully deleted',\r\n            data: message,\r\n        });\r\n    }\r\n    return res.status(404).json({\r\n        status: 404,\r\n        error: 'message not found',\r\n    });\r\n}"],"file":"messagesController.js"}