{"version":3,"sources":["../../src/controllers/commentsController.js"],"names":["readAll","req","res","comments","status","json","error","message","data","readById","id","params","comment","filter","create","fullname","body","suggestion","push","update","deleteComment","a","indexOf","splice"],"mappings":"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","sourcesContent":["import comments from '../models/comments';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n\r\nexport const readAll = (req, res) => {\r\n    if (!comments) {\r\n        return res.status(404).json({\r\n            status: 404,\r\n            error: 'No comment found',\r\n        });\r\n    }\r\n    return res.status(200).json({\r\n        status: 200,\r\n        message: 'comments successfully retrieved',\r\n        data: {\r\n            comments,\r\n        },\r\n    });\r\n};\r\nexport const readById = (req, res) => {\r\n    const id = req.params.id;\r\n    const comment = comments.filter((comment) => {\r\n        return comment.id === id;\r\n    });\r\n    if (comment[0]) {\r\n        return res.status(200).json({\r\n            status: 200,\r\n            message: 'comment successfully retrieved',\r\n            data: comment,\r\n        });\r\n    }\r\n    return res.status(404).json({\r\n        status: 404,\r\n        error: 'comment not found',\r\n    });\r\n\r\n};\r\nexport const create = (req, res) => {\r\n    const comment = {\r\n        id: uuidv4(),\r\n        fullname: req.body.fullname,\r\n        suggestion: req.body.suggestion\r\n       \r\n    };\r\n    comments.push(comment);\r\n    return res.status(201).json({\r\n        status: 201,\r\n        message: 'comment successfully created',\r\n        data: comment,\r\n    });\r\n\r\n};\r\n\r\nexport const update=(req,res)=>{\r\n    const id = req.params.id;\r\n    const comment = comments.filter((comment) => {\r\n        return comment.id === id;\r\n    });\r\n    if(comment[0]){\r\n        comment[0].fullname= req.body.fullname;\r\n        comment[0].suggestion= req.body.suggestion;\r\n        return res.status(200).json({\r\n            status: 200,\r\n            message: 'comment successfully updated',\r\n            data: comment,\r\n        });\r\n    }\r\n    return res.status(404).json({\r\n        status: 404,\r\n        error: 'comment not found',\r\n    });\r\n    \r\n}\r\n\r\n\r\nexport const deleteComment=(req,res)=>{\r\n    const id=req.params.id;\r\n    const comment = comments.filter((comment) => {\r\n        return comment.id === id;\r\n    });\r\n    if(comment[0]){\r\n        var a = comments.indexOf(comment[0]);\r\n        comments.splice(a, 1);\r\n        return res.status(200).json({\r\n            status: 200,\r\n            message: 'comment successfully deleted',\r\n            data: comment,\r\n        });\r\n    }\r\n    return res.status(404).json({\r\n        status: 404,\r\n        error: 'comment not found',\r\n    });\r\n}"],"file":"commentsController.js"}